name = "rhel-9.2"
description = "Basic RHEL 9.2 edge image without MicroShift."
version = "0.0.1"
distro = "rhel-92"
modules = []
groups = []

[[packages]]
name = "microshift-test-agent"
version = "*"

[customizations.services]
enabled = ["microshift-test-agent"]

[customizations.firewall]
ports = ["22:tcp"]

[customizations.firewall.services]
enabled = ["ssh"]

# Create a default redhat user, allowing it to run sudo commands without password
[[customizations.user]]
name = "redhat"
password = "$5$XDVQ6DxT8S5YWLV7$8f2om5JfjK56v9ofUkUAwZXTxJl3Sqnc9yPnza4xoJ0"
home = "/home/redhat"

[[customizations.directories]]
path = "/etc/microshift"
mode = "0700"
user = "root"
group = "root"

[[customizations.files]]
path = "/etc/sudoers.d/microshift"
mode = "0644"
user = "root"
group = "root"
data = "redhat\tALL=(ALL)\tNOPASSWD: ALL"